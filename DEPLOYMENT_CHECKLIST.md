# Wilson Pizzaria - Production Deployment Checklist

## âœ… Pre-Deployment

- [x] Build passes with 0 errors (`npm run build`)
- [x] All tests configured (`npm test`)
- [x] Production dependencies installed
- [x] Environment variables documented (`.env.production.example`)
- [x] GitHub Actions workflow created (`.github/workflows/deploy.yml`)
- [x] Migrations prepared (`npm run db:push`)

## ğŸš€ Railway Setup

- [ ] Create Railway account (https://railway.app)
- [ ] Create new project
- [ ] Connect GitHub repository
- [ ] Create PostgreSQL database
- [ ] Configure environment variables in Railway dashboard
- [ ] Set `NODE_ENV=production`
- [ ] Set `JWT_SECRET` (generate random string)
- [ ] Set `STRIPE_SECRET_KEY` from Replit secrets
- [ ] Add GitHub Secrets (RAILWAY_TOKEN, RAILWAY_PROJECT_ID)

## ğŸ”— Integration Setup

- [ ] Verify iFood webhook URL in iFood Admin Panel
- [ ] Verify UberEats webhook URL in UberEats Admin
- [ ] Add webhook signatures to integration services
- [ ] Configure WhatsApp notification service
- [ ] Test webhook delivery with test events

## ğŸ“Š Post-Deployment Tests

```bash
# Health check
curl https://your-app.railway.app/api/health

# Login test
curl -X POST https://your-app.railway.app/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"wilson@wilsonpizza.com","password":"wilson123"}'

# Order creation test
curl -X POST https://your-app.railway.app/api/orders \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"tenantId":"...","items":[...]}'

# Webhook signature test
curl -X POST https://your-app.railway.app/api/webhooks/ifood/TENANT_ID \
  -H "x-ifood-signature: test-sig" \
  -H "Content-Type: application/json" \
  -d '{"event":"order.created","order":{...}}'
```

## ğŸ” Security Checklist

- [ ] All secrets are environment variables (not in code)
- [ ] JWT_SECRET is long random string (32+ chars)
- [ ] Webhook signatures validated before processing
- [ ] CORS configured for frontend domain
- [ ] Rate limiting enabled on auth endpoints
- [ ] Database backups configured in Railway

## ğŸ“ˆ Monitoring

- [ ] Railway logs dashboard setup
- [ ] Error tracking configured
- [ ] Performance metrics enabled
- [ ] Database connection pool monitored
- [ ] WebSocket connections tracked

## ğŸ”„ CI/CD Pipeline

- [ ] GitHub Actions workflow running
- [ ] Tests pass on every push
- [ ] Build succeeds in CI environment
- [ ] Auto-deploy on main branch push
- [ ] Rollback plan documented

## ğŸš€ Go-Live

- [ ] DNS configured for custom domain (if applicable)
- [ ] SSL/TLS certificate auto-generated by Railway
- [ ] Front-end environment variables point to production API
- [ ] Customer notifications ready
- [ ] Support team briefed on production URL
- [ ] Monitoring alerts configured

---

**Status:** âœ… Deployment-ready checklist created
